<table mat-table [dataSource]="tableDataSource">
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let accountEntry">
            <mat-form-field>
                <mat-label>Account Name</mat-label>
                <div>
                    {{ accountEntry.account.name }}
                </div>
            </mat-form-field>
        </td>
    </ng-container>

    <ng-container matColumnDef="asset_value">
        <th mat-header-cell *matHeaderCellDef>Assets</th>
        <td mat-cell *matCellDef="let accountEntry">
            <div *ngIf="account !== editingAccountEntry; else editAssetValue">
                ${{ accountEntry.asset_value | number: '1.2-2' }}
            </div>
            <ng-template #editAssetValue>
                <input [formControl]="editingAssetValue" type="number" min="0" step="0.01" />
            </ng-template>
        </td>
    </ng-container>

    <ng-container matColumnDef="liability_value">
        <th mat-header-cell *matHeaderCellDef>Liabilities</th>
        <td mat-cell *matCellDef="let accountEntry">
            <div *ngIf="account !== editingAccountEntry; else editLiabilityValue">
                ${{ accountEntry.liability_value | number: '1.2-2' }}
            </div>
            <ng-template #editLiabilityValue>
                <input [formControl]="editingLiabilityValue" type="number" min="0" step="0.01" />
            </ng-template>
        </td>
    </ng-container>

    <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let accountEntry">
            <div>
                {{ accountEntry.account.description }}
            </div>
        </td>
    </ng-container>

    <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let accountEntry">
            <div *ngIf="accountEntry !== editingAccountEntry; else submitEdited">
                <button mat-button (click)="selectEditingAccountEntry(account)">Edit</button>
            </div>
            <ng-template #submitEdited>
                <button mat-button (click)="updateEditingAccountEntry()">Submit</button>
            </ng-template>
        </td>
    </ng-container>

    <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let income">
            <div *ngIf="income == editingIncome">
                <button mat-button (click)="cancelEditAccountEntry()">Cancel</button>
            </div>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let rowData; columns: columnsToDisplay"></tr>
</table>
